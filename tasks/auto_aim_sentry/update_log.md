# 10月15日
按照我粗浅的理解，视觉不应该介入实际的**控制过程**。  
既我们给cboard发送的值一定是真值，只应该将电机的各种特性考虑到系统模型当中，而不应该给电控一个“伪真值”使其较好地达到真值

# 10月14日
有一种85%既是当前算法下上限命中率的感觉。  
面对前哨站——一个只要kalman合理收敛即可视为能够精准预测运动的模型，如果电机是理想模型的话，在当前框架下可以达到100%的命中率。  
15%的差距就在于，我们目前并没有对云台进行合理建模，我们不考虑yaw轴的响应时间，只考虑弹丸的飞行时间，对于发弹延时的考虑也欠妥（只在开火时用了，没有在停火时用该时间）  
可能的一条路——**将shoot连续化**，用概率表示。然后设置一个阈值，当大于该阈值后可以shoot。这样做的好处是可以根据很多条件来设置这个概率，比如在装甲板接近leaving_angle时将shoot的值调低。  
shoot的本质是**决策**

# 10月7日
TODO 新增一个模块去判断一下开火。  
当前使用last_command.yaw与command.yaw做判断只会对一帧有效果，需要在judger内置一个状态机来反映一下yaw轴的响应延时  
当前优化前哨站击打的思路较普通的四装甲板车来说基本是不适用的。  
之后必须加上自适应的delta_angle和comming_angle(`aimer`)

# 10月6日
目前打前哨站有70%命中率，但是射频很低  
准备放宽一些射击约束，不依赖tracker的状态进行判断  
修改了判断条件，并且电控优化了yaw轴pid后命中率突破80%🥰

# 10月5日
之前写的跳变就不开火完全是错误的，马上修正。  
打前哨站时，应该在aimpoint.valid为true时就开火  
根据目前滤波器的参数，在一个旋转周期后就可以比较好的收敛，故可通过旋转圈数无反馈（不知是否真的收敛）的去控制开火  
~~TODO 可以对前哨站增加一些额外的**敛散性判断**~~

# 9月30日
思考了下PnP测试的问题，感觉神经网络搭配PnP很难测准，传统识别的话抖动不那么剧烈。  
但是装甲板朝向角改变后distance的改变也太离谱了，想要优化一下.  
或者说当前命中率还可以很大程度上是因为小弹丸在+-10cm内的下坠不太明显，滤波器参数设置正确的话近距离射击的话命中率确实可观  
当前自瞄给我的感觉是全靠**滤波器**在纠正各种偏差、抖动、噪声。如果滤波器参数设置没调好，自瞄大概率G了。并且在英雄上影响巨大

# 9月29日
~~**新写一版针对于前哨站的卡尔曼吧🤯**~~  
cxy的代码可以用了，65%的命中率,只需在现有滤波器上改几个参数效果就比较好,也不必重写了  
**重新考虑下EKFPnP的问题**

# 9月28日
装甲板yaw值相对是准确的，但是distance很不准，或许可以用yaw值去优化distance？  
当前版本卡尔曼对前哨站效果很差，或许可以会看下23年大作业

# 9月27日
当装甲板跳变时则不开火，感觉可以提升一点命中率  
感觉手眼标定的重复误差有些大，需要看看原理。统计了下论文实验中使用图片的数量:
>   CALIB_HAND_EYE_TSAI(12组)        
    CALIB_HAND_EYE_PARK(20~30组后收敛,总数据90组)  
    CALIB_HAND_EYE_HORAUD    
    CALIB_HAND_EYE_ANDREFF(33组)    
    CALIB_HAND_EYE_DANIILIDIS(20组)

# 9月26日
添加了该更新日志，不定时更新一些想法和测试记录